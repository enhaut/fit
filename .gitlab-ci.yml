image:
    gcc

stages:
    - build
    - test

install:
    stage: build
    script:
        - apt-get update --yes
        - apt-get install git --yes
        - apt-get install cmake --yes
        - apt-get install lcov --yes

build:
    stage: build
    dependencies:
        - install
    artifacts:
        paths:
            - assignment/build/
    script:
        - cd assignment/build
        - cmake ..
        - make

tdd:
    stage: test
    dependencies:
        - build
    script:
        - cd assignment/build
        - ./tdd_test
